
{
  "entities": {
    "PreliminaryProjectBudget": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PreliminaryProjectBudget",
      "type": "object",
      "description": "Represents a preliminary project budget form.",
      "properties": {
        "project": { "type": "string" },
        "projectNo": { "type": "string" },
        "job": { "type": "string" },
        "revNo": { "type": "string" },
        "location": { "type": "string" },
        "preparedBy": { "type": "string" },
        "grossArea": { "type": "string" },
        "rentalArea": { "type": "string" },
        "efficiency": { "type": "string" },
        "date": { "type": "string" },
        "revDate": { "type": "string" },
        "basicBuildingCosts": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item": { "type": "string" },
              "rsPerSft": { "type": "string" },
              "area": { "type": "string" },
              "total": { "type": "string" }
            }
          }
        },
        "unusualBuildingCosts": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item": { "type": "string" },
              "total": { "type": "string" }
            }
          }
        },
        "additionalBudgetItems": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item": { "type": "string" },
              "total": { "type": "string" }
            }
          }
        },
        "ownersBudgetItems": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item": { "type": "string" },
              "total": { "type": "string" }
            }
          }
        }
      }
    },
    "SiteVisit": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SiteVisit",
      "type": "object",
      "description": "Represents a detailed site visit proforma for an architect.",
      "properties": {
        "siteName": { "type": "string" },
        "city": { "type": "string" },
        "date": { "type": "string" },
        "visitNumber": { "type": "string" },
        "architectName": { "type": "string" },
        "exterior_facade": { "type": "boolean" },
        "exterior_signage": { "type": "boolean" },
        "exterior_lighting": { "type": "boolean" },
        "exterior_door": { "type": "boolean" },
        "exterior_branding": { "type": "boolean" },
        "flooring_tiles": { "type": "boolean" },
        "flooring_alignment": { "type": "boolean" },
        "flooring_skirting": { "type": "boolean" },
        "flooring_grouting": { "type": "boolean" },
        "flooring_damage": { "type": "boolean" },
        "ceiling_gypsum": { "type": "boolean" },
        "ceiling_paint": { "type": "boolean" },
        "ceiling_height": { "type": "boolean" },
        "ceiling_panels": { "type": "boolean" },
        "ceiling_moisture": { "type": "boolean" },
        "lighting_all": { "type": "boolean" },
        "lighting_emergency": { "type": "boolean" },
        "lighting_atm": { "type": "boolean" },
        "lighting_hall": { "type": "boolean" },
        "lighting_db": { "type": "boolean" },
        "furniture_counters": { "type": "boolean" },
        "furniture_seating": { "type": "boolean" },
        "furniture_bm": { "type": "boolean" },
        "furniture_cash": { "type": "boolean" },
        "furniture_atm": { "type": "boolean" },
        "furniture_storage": { "type": "boolean" },
        "furniture_shelving": { "type": "boolean" },
        "washroom_tiles": { "type": "boolean" },
        "washroom_wc": { "type": "boolean" },
        "washroom_drainage": { "type": "boolean" },
        "washroom_exhaust": { "type": "boolean" },
        "washroom_accessories": { "type": "boolean" },
        "mep_wiring": { "type": "boolean" },
        "mep_ac": { "type": "boolean" },
        "mep_diffusers": { "type": "boolean" },
        "mep_fire": { "type": "boolean" },
        "mep_cctv": { "type": "boolean" },
        "mep_plumbing": { "type": "boolean" },
        "observations": { "type": "string" },
        "issues": { "type": "string" },
        "actions": { "type": "string" },
        "comment1": { "type": "string" },
        "comment2": { "type": "string" },
        "comment3": { "type": "string" },
        "comment4": { "type": "string" },
        "comment5": { "type": "string" },
        "comment6": { "type": "string" },
        "comment7": { "type": "string" }
      }
    },
    "CommercialProperty": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CommercialProperty",
      "type": "object",
      "description": "Represents a commercial property data entry.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the commercial property."
        },
        "propertyName": {
          "type": "string",
          "description": "Name of the commercial property."
        },
        "address": {
          "type": "string",
          "description": "Address of the commercial property."
        },
        "propertyType": {
          "type": "string",
          "description": "Type of commercial property (e.g., Office, Retail)."
        },
        "squareFootage": {
          "type": "number",
          "description": "Square footage of the commercial property."
        },
        "rentalRate": {
          "type": "number",
          "description": "Rental rate of the commercial property."
        },
        "occupancyRate": {
          "type": "number",
          "description": "Occupancy rate of the commercial property."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes or comments about the commercial property."
        }
      },
      "required": [
        "id",
        "propertyName",
        "address",
        "propertyType",
        "squareFootage",
        "rentalRate",
        "occupancyRate"
      ]
    },
    "ResidentialProperty": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ResidentialProperty",
      "type": "object",
      "description": "Represents a residential property data entry.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the residential property."
        },
        "propertyName": {
          "type": "string",
          "description": "Name of the residential property."
        },
        "address": {
          "type": "string",
          "description": "Address of the residential property."
        },
        "propertyType": {
          "type": "string",
          "description": "Type of residential property (e.g., Apartment, House)."
        },
        "numberOfUnits": {
          "type": "number",
          "description": "Number of units in the residential property."
        },
        "averageRent": {
          "type": "number",
          "description": "Average rent for units in the residential property."
        },
        "occupancyRate": {
          "type": "number",
          "description": "Occupancy rate of the residential property."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes or comments about the residential property."
        }
      },
      "required": [
        "id",
        "propertyName",
        "address",
        "propertyType",
        "numberOfUnits",
        "averageRent",
        "occupancyRate"
      ]
    },
    "HotelProperty": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HotelProperty",
      "type": "object",
      "description": "Represents a hotel property data entry.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the hotel property."
        },
        "hotelName": {
          "type": "string",
          "description": "Name of the hotel property."
        },
        "address": {
          "type": "string",
          "description": "Address of the hotel property."
        },
        "starRating": {
          "type": "number",
          "description": "Star rating of the hotel property."
        },
        "numberOfRooms": {
          "type": "number",
          "description": "Number of rooms in the hotel property."
        },
        "averageDailyRate": {
          "type": "number",
          "description": "Average daily rate for rooms in the hotel property."
        },
        "occupancyRate": {
          "type": "number",
          "description": "Occupancy rate of the hotel property."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes or comments about the hotel property."
        }
      },
      "required": [
        "id",
        "hotelName",
        "address",
        "starRating",
        "numberOfRooms",
        "averageDailyRate",
        "occupancyRate"
      ]
    },
    "BankBranch": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "BankBranch",
      "type": "object",
      "description": "Represents a bank branch data entry.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the bank branch."
        },
        "bankName": {
          "type": "string",
          "description": "Name of the bank."
        },
        "branchAddress": {
          "type": "string",
          "description": "Address of the bank branch."
        },
        "branchManager": {
          "type": "string",
          "description": "Name of the branch manager."
        },
        "numberOfEmployees": {
          "type": "number",
          "description": "Number of employees at the bank branch."
        },
        "totalDeposits": {
          "type": "number",
          "description": "Total deposits at the bank branch."
        },
        "totalLoans": {
          "type": "number",
          "description": "Total loans issued by the bank branch."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes or comments about the bank branch."
        }
      },
      "required": [
        "id",
        "bankName",
        "branchAddress",
        "branchManager",
        "numberOfEmployees",
        "totalDeposits",
        "totalLoans"
      ]
    },
    "ProjectInformation": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectInformation",
      "type": "object",
      "description": "Represents a comprehensive project information form.",
      "properties": {},
      "additionalProperties": {
        "anyOf": [
          { "type": "string" },
          { "type": "boolean" }
        ]
      }
    },
    "PredesignAssessment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PredesignAssessment",
      "type": "object",
      "description": "Represents a predesign assessment form.",
      "properties": {},
      "additionalProperties": { "type": "string" }
    },
    "ProjectChecklist": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectChecklist",
      "type": "object",
      "description": "Represents a project checklist form.",
      "properties": {},
      "additionalProperties": {
        "anyOf": [
          { "type": "string" },
          { "type": "boolean" }
        ]
      }
    },
    "ProjectData": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectData",
      "type": "object",
      "description": "Represents a project data form.",
      "properties": {},
      "additionalProperties": {
        "anyOf": [
          { "type": "string" },
          { "type": "boolean" }
        ]
      }
    },
    "ProjectAgreement": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectAgreement",
      "type": "object",
      "description": "Represents a project agreement form.",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "ProjectTimeline": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectTimeline",
      "type": "object",
      "description": "Represents the data for the project timeline page.",
      "properties": {
        "project": { "type": "string" },
        "architect": { "type": "string" },
        "nameAddress": { "type": "string" },
        "architectProjectNo": { "type": "string" },
        "projectDate": { "type": "string" },
        "tasks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "number" },
              "name": { "type": "string" },
              "duration": { "type": "string" },
              "start": { "type": "string" },
              "finish": { "type": "string" },
              "predecessor": { "type": "string" }
            },
            "required": ["id", "name"]
          }
        }
      }
    },
    "TimelineProject": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TimelineProject",
      "description": "A flexible schema for timeline project data.",
      "type": "object",
      "properties": {
        "projectData": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": true
          }
        },
        "overallStatus": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "no": {"type": ["number", "string"]},
              "text": {"type": "string"}
            },
            "additionalProperties": true
          }
        },
        "remarks": {
          "type": "object",
          "properties": {
            "text": {"type": "string"},
            "date": {"type": "string"}
          }
        }
      },
      "additionalProperties": true
    },
    "WeeklyWorkSchedule": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WeeklyWorkSchedule",
      "description": "Represents the data for the weekly work schedule.",
      "type": "object",
      "properties": {
        "designation": { "type": "string" },
        "schedules": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
                "id": { "type": "number" },
                "employeeName": { "type": "string" },
                "projectName": { "type": "string" },
                "details": { "type": "string" },
                "status": { "type": "string" },
                "startDate": { "type": "string" },
                "endDate": { "type": "string" }
            },
            "required": ["id"]
          }
        },
        "remarks": { "type": "string" }
      }
    },
     "ContinuationSheet": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContinuationSheet",
      "type": "object",
      "description": "Represents a continuation sheet for project applications.",
      "properties": {
        "applicationNumber": { "type": "string" },
        "applicationDate": { "type": "string" },
        "periodTo": { "type": "string" },
        "architectsProjectNo": { "type": "string" },
        "rows": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": ["string", "number"] },
              "itemNo": { "type": "string" },
              "description": { "type": "string" },
              "scheduledValue": { "type": "string" },
              "workCompletedPrev": { "type": "string" },
              "workCompletedThis": { "type": "string" },
              "materialsStored": { "type": "string" },
              "totalCompleted": { "type": "string" },
              "percentage": { "type": "string" },
              "balance": { "type": "string" },
              "retainage": { "type": "string" }
            }
          }
        }
      }
    },
    "ConstructionActivitySchedule": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ConstructionActivitySchedule",
      "type": "object",
      "description": "Represents a construction activity schedule.",
      "properties": {
        "client": { "type": "string" },
        "project": { "type": "string" },
        "coveredArea": { "type": "string" },
        "location": { "type": "string" },
        "title": { "type": "string" },
        "type": { "type": "string" },
        "projectNumber": { "type": "string" },
        "date": { "type": "string" },
        "tasks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "number" },
              "code": { "type": "string" },
              "task": { "type": "string" },
              "duration": { "type": "string" },
              "planStart": { "type": "string" },
              "planFinish": { "type": "string" },
              "actualStart": { "type": "string" },
              "actualFinish": { "type": "string" },
              "progress": { "type": "string" },
              "variancePlan": { "type": "string" },
              "varianceActual": { "type": "string" },
              "remarks": { "type": "string" }
            }
          }
        }
      }
    },
    "RateAnalysis": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "RateAnalysis",
      "type": "object",
      "description": "Represents a rate analysis form for project items.",
      "properties": {},
      "additionalProperties": true
    },
    "ChangeOrder": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChangeOrder",
      "type": "object",
      "description": "Represents a change order form for a project.",
      "properties": {},
      "additionalProperties": { "type": "string" }
    },
    "InstructionSheet": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "InstructionSheet",
      "type": "object",
      "description": "Represents an instruction sheet form.",
      "properties": {
        "project": { "type": "string" },
        "contract": { "type": "string" },
        "fieldReportNo": { "type": "string" },
        "architectsProjectNo": { "type": "string" },
        "to_owner": { "type": "boolean" },
        "to_architect": { "type": "boolean" },
        "to_contractor": { "type": "boolean" },
        "to_field": { "type": "boolean" },
        "to_other": { "type": "boolean" },
        "by_owner": { "type": "boolean" },
        "by_architect": { "type": "boolean" },
        "by_contractor": { "type": "boolean" },
        "by_field": { "type": "boolean" },
        "by_other": { "type": "boolean" },
        "steps": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "id": { "type": "number" },
                    "what": { "type": "string" },
                    "how": { "type": "string" },
                    "why": { "type": "string" }
                }
            }
        }
      }
    },
    "RequirementPerforma": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "RequirementPerforma",
      "type": "object",
      "description": "Represents a Requirement Performa form.",
      "properties": {},
      "additionalProperties": true
    },
    "SiteSurvey": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SiteSurvey",
      "type": "object",
      "description": "Represents a site survey form.",
      "properties": {},
      "additionalProperties": true
    },
    "ProposalRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProposalRequest",
      "type": "object",
      "description": "Represents a proposal request form.",
      "properties": {},
      "additionalProperties": true
    },
    "ApplicationForPayment": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ApplicationForPayment",
        "type": "object",
        "description": "Represents an application and certificate for payment form.",
        "properties": {},
        "additionalProperties": { "anyOf": [{ "type": "string" }, { "type": "boolean" }] }
    },
    "ConsentOfSurety": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConsentOfSurety",
        "type": "object",
        "description": "Represents a consent of surety form.",
        "properties": {},
        "additionalProperties": { "anyOf": [{ "type": "string" }, { "type": "boolean" }] }
    },
    "Task": {
      "title": "Task",
      "type": "object",
      "description": "Represents a task assigned to an employee.",
      "properties": {
        "employeeName": {
          "type": "string",
          "description": "Name of the employee the task is assigned to."
        },
        "projectName": {
          "type": "string",
          "description": "Name of the project the task is associated with."
        },
        "taskDescription": {
          "type": "string",
          "description": "A detailed description of the task."
        },
        "startDate": {
          "type": "string",
          "format": "date",
          "description": "The date the task starts."
        },
        "endDate": {
          "type": "string",
          "format": "date",
          "description": "The date the task is due."
        },
        "status": {
          "type": "string",
          "enum": ["Assigned", "In Progress", "Completed"],
          "description": "The current status of the task."
        },
        "assignedBy": {
          "type": "string",
          "description": "The ID of the user who assigned the task."
        },
         "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the task was created."
        }
      },
      "required": ["employeeName", "projectName", "taskDescription", "startDate", "endDate", "status", "assignedBy", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "storage": {
    "structure": [
      {
        "path": "/users/{userId}/uploads/{fileName}",
        "description": "Stores user-uploaded files for the File Manager. Each user has their own directory."
      }
    ]
  },
  "firestore": {
    "structure": [
       {
        "path": "/users/{userId}/siteVisits/{visitId}",
        "definition": {
          "entityName": "SiteVisit",
          "schema": {
            "$ref": "#/entities/SiteVisit"
          },
          "description": "Stores site visit data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/commercialProperties/{propertyId}",
        "definition": {
          "entityName": "CommercialProperty",
          "schema": {
            "$ref": "#/backend/entities/CommercialProperty"
          },
          "description": "Stores commercial property data owned by a specific user. Path-based ownership enforced via /users/{userId}. Includes 'userId' as the owner.",
          "params": [
            {
              "name": "userId",
              "description": "The ID of the user who owns the commercial property."
            },
            {
              "name": "propertyId",
              "description": "The unique ID of the commercial property."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/residentialProperties/{propertyId}",
        "definition": {
          "entityName": "ResidentialProperty",
          "schema": {
            "$ref": "#/backend/entities/ResidentialProperty"
          },
          "description": "Stores residential property data owned by a specific user. Path-based ownership enforced via /users/{userId}. Includes 'userId' as the owner.",
          "params": [
            {
              "name": "userId",
              "description": "The ID of the user who owns the residential property."
            },
            {
              "name": "propertyId",
              "description": "The unique ID of the residential property."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/hotelProperties/{propertyId}",
        "definition": {
          "entityName": "HotelProperty",
          "schema": {
            "$ref": "#/backend/entities/HotelProperty"
          },
          "description": "Stores hotel property data owned by a specific user. Path-based ownership enforced via /users/{userId}. Includes 'userId' as the owner.",
          "params": [
            {
              "name": "userId",
              "description": "The ID of the user who owns the hotel property."
            },
            {
              "name": "propertyId",
              "description": "The unique ID of the hotel property."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/bankBranches/{propertyId}",
        "definition": {
          "entityName": "BankBranch",
          "schema": {
            "$ref": "#/backend/entities/BankBranch"
          },
          "description": "Stores bank branch data owned by a specific user. Path-based ownership enforced via /users/{userId}. Includes 'userId' as the owner.",
          "params": [
            {
              "name": "userId",
              "description": "The ID of the user who owns the bank branch property."
            },
            {
              "name": "propertyId",
              "description": "The unique ID of the bank branch property."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/projectInformation/{infoId}",
        "definition": {
          "entityName": "ProjectInformation",
          "schema": {
            "$ref": "#/backend/entities/ProjectInformation"
          },
          "description": "Stores project information data for a specific user.",
          "params": [
            {
              "name": "userId",
              "description": "The ID of the user who owns the information."
            },
            {
              "name": "infoId",
              "description": "The unique ID of the project information."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/predesignAssessments/{assessmentId}",
        "definition": {
          "entityName": "PredesignAssessment",
          "schema": {
            "$ref": "#/backend/entities/PredesignAssessment"
          },
          "description": "Stores predesign assessment data for a specific user.",
          "params": [
            {
              "name": "userId",
              "description": "The ID of the user who owns the assessment."
            },
            {
              "name": "assessmentId",
              "description": "The unique ID of the predesign assessment."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/projectTimelines/{timelineId}",
        "definition": {
          "entityName": "TimelineProject",
          "schema": {
            "$ref": "#/entities/TimelineProject"
          },
          "description": "Stores project timeline data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/projectChecklists/{checklistId}",
        "definition": {
          "entityName": "ProjectChecklist",
          "schema": {
            "$ref": "#/entities/ProjectChecklist"
          },
          "description": "Stores project checklist data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/projectData/{dataId}",
        "definition": {
          "entityName": "ProjectData",
          "schema": {
            "$ref": "#/entities/ProjectData"
          },
          "description": "Stores project data form for a specific user."
        }
      },
      {
        "path": "/users/{userId}/continuationSheets/{sheetId}",
        "definition": {
          "entityName": "ContinuationSheet",
          "schema": {
            "$ref": "#/entities/ContinuationSheet"
          },
          "description": "Stores continuation sheet data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/constructionSchedules/{scheduleId}",
        "definition": {
          "entityName": "ConstructionActivitySchedule",
          "schema": {
            "$ref": "#/entities/ConstructionActivitySchedule"
          },
          "description": "Stores construction activity schedule data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/projectAgreements/{agreementId}",
        "definition": {
          "entityName": "ProjectAgreement",
          "schema": {
            "$ref": "#/entities/ProjectAgreement"
          },
          "description": "Stores project agreement data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/weeklySchedules/{scheduleId}",
        "definition": {
          "entityName": "WeeklyWorkSchedule",
          "schema": {
            "$ref": "#/entities/WeeklyWorkSchedule"
          },
          "description": "Stores weekly work schedule data for a specific user."
        }
      },
       {
        "path": "/users/{userId}/rateAnalysis/{analysisId}",
        "definition": {
          "entityName": "RateAnalysis",
          "schema": {
            "$ref": "#/entities/RateAnalysis"
          },
          "description": "Stores rate analysis data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/changeOrders/{orderId}",
        "definition": {
          "entityName": "ChangeOrder",
          "schema": {
            "$ref": "#/entities/ChangeOrder"
          },
          "description": "Stores change order data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/instructionSheets/{sheetId}",
        "definition": {
          "entityName": "InstructionSheet",
          "schema": {
            "$ref": "#/entities/InstructionSheet"
          },
          "description": "Stores instruction sheet data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/requirementPerforma/{performaId}",
        "definition": {
          "entityName": "RequirementPerforma",
          "schema": {
            "$ref": "#/entities/RequirementPerforma"
          },
          "description": "Stores requirement performa data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/siteSurvey/{surveyId}",
        "definition": {
          "entityName": "SiteSurvey",
          "schema": {
            "$ref": "#/entities/SiteSurvey"
          },
          "description": "Stores site survey data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/proposalRequest/{requestId}",
        "definition": {
          "entityName": "ProposalRequest",
          "schema": {
            "$ref": "#/entities/ProposalRequest"
          },
          "description": "Stores proposal request data for a specific user."
        }
      },
       {
        "path": "/users/{userId}/preliminaryProjectBudgets/{budgetId}",
        "definition": {
          "entityName": "PreliminaryProjectBudget",
          "schema": {
            "$ref": "#/entities/PreliminaryProjectBudget"
          },
          "description": "Stores preliminary project budget data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/applicationForPayment/{paymentId}",
        "definition": {
          "entityName": "ApplicationForPayment",
          "schema": { "$ref": "#/entities/ApplicationForPayment" },
          "description": "Stores application for payment forms for a specific user."
        }
      },
      {
        "path": "/users/{userId}/consentOfSurety/{consentId}",
        "definition": {
          "entityName": "ConsentOfSurety",
          "schema": { "$ref": "#/entities/ConsentOfSurety" },
          "description": "Stores consent of surety forms for a specific user."
        }
      },
      {
        "path": "/users/{userId}/tasks/{taskId}",
        "definition": {
          "entityName": "Task",
          "schema": {
            "$ref": "#/entities/Task"
          },
          "description": "Stores tasks assigned to employees. This collection is public for reading so all users can see all tasks, but writing is restricted."
        }
      }
    ],
    "reasoning": "To address the user's requirement for saving and displaying data related to commercial, residential, hotel, and bank branch properties within the Isbah Dashboard application, I propose the following Firestore structure:\n\n*   **Authorization Independence:** Each property document (CommercialProperty, ResidentialProperty, HotelProperty, and BankBranch) will be stored under a path based on the user's ID. This eliminates the need for `get()` calls in security rules to check ownership, as the path itself establishes ownership. No membership maps are needed as ownership is implicit in the path.\n*   **Structural Segregation:** Each type of property (commercial, residential, hotel, and bank branch) is stored in its own top-level collection. This simplifies security rules by ensuring that all documents within a collection share the same access control requirements.\n*   **Clear Data Organization:** Properties are organized under user-specific subcollections to maintain data privacy and ownership.\n\nThis structure offers several advantages:\n\n*   **Security:** Access control is straightforward. Rules can easily restrict read/write access to only the owner of a specific `propertyId`.\n*   **Scalability:** Firestore's scalability is maximized by avoiding complex queries and hierarchical dependencies.\n*   **Debuggability:** The structure is simple and easy to understand, making it easier to debug security rules and data access issues.\n\nThis structure directly addresses the core design principles:\n\n*   **Authorization Independence:** The hierarchical path `/users/{userId}/{propertyType}/{propertyId}` ensures that ownership is inherent in the path structure, removing the need for `get()` calls to verify ownership.\n*   **Clarity of Intent:** The path-based ownership model clearly expresses the relationship between users and their properties.\n*   **DBAC (No Custom Claims):** Authorization relies solely on `request.auth.uid` and the path structure.\n*   **QAPs (Rules are not Filters):** The structure enables secure `list` operations. A user can only list properties under their `userId`, preventing unauthorized access to other users' properties.\n*   **Invariants:** Ownership and timestamps can be easily enforced via rules."
  }
}
